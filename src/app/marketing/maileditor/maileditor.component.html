<div fxFlex fxLayout="row" fxLayoutAlign="start stretch" cdkDropListGroup>


  <div fxFlex="20%" class="tools">
    <h2>Tools</h2>

    <div cdkDropList #toolsetList="cdkDropList" [cdkDropListData]="toolset"
       class="example-list" (cdkDropListDropped)="drop($event)">
      <div class="example-box" *ngFor="let item of toolset" cdkDrag>{{item.type}}</div>
    </div>
  </div>

  <div fxFlex="60%" fxLayout="column" class="template" gdAlignRows="start stretch">
    <h2>Template</h2>
    <div class="example-container" *ngFor="let section of mailtemplateArray; let i1 = index" fxFlex fxLayout="row">
      <div class="example-list" *ngFor="let column of section; let i2 = index" fxFlex fxLayout="column">
        <div class="example-box" fxFlex fxLayout="row" 
        cdkDropList 
        #mailtemplateList="cdkDropList" 
        [cdkDropListData]="mailtemplateArray[i1][i2]" 
        (cdkDropListDropped)="drop($event)">
          <div class="example-box" 
          *ngFor="let item of column; let i3 = index;" 
          (click)="onSelectTemplatePart(item, i3)" 
          cdkDrag
          [style.color]="item.style">
            {{item.type}}
            <div *ngIf="item.type === Text">{{item.content}}</div>
          </div>
        </div>     
      </div>
      <mat-icon (click)="addToSectionArray(i1)">add</mat-icon>
    </div>
    <mat-icon (click)="addToMailTemplateArray()">add</mat-icon>
  </div>



  <!-- <div cdkDropList #mailtemplateList="cdkDropList" [cdkDropListData]="mailtemplate"
             class="example-list" (cdkDropListDropped)="drop($event)">
            <div class="example-box" *ngFor="let item of mailtemplate; let i = index;" cdkDrag (click)="onSelectTemplatePart(item, i)">
              {{item.type}}

              <div *ngIf="item.type === Column">

                <div cdkDropList #mailColumnList="cdkDropList" [cdkDropListData]="mailColumn[i]"
                   class="example-list" (cdkDropListDropped)="drop($event)">
                  <div class="example-box" *ngFor="let item of ColumnArray[i]" cdkDrag
                    (click)="onSelectTemplatePart(item, i)">{{item.type}}
                  </div>

                  <div *ngIf="item.type === Section"></div>
                  <div *ngIf="item.type === Text"></div>
                  <div *ngIf="item.type === Image"></div>
                  <div *ngIf="item.type === Button"></div>
                </div>
              </div>

            </div>
          </div> -->

  <div fxFlex="20%">
    <div *ngIf="Column">Edit Column</div>
    <div *ngIf="Section">Edit Section</div>
    <div *ngIf="Text">
      <h1>Edit Text</h1>
      <input matInput 
      [(ngModel)]= maileditorText.content 
      placeholder="text" 
      [style.color]="color"
      [cpPosition]="'bottom'"
      [cpPositionOffset]="'50%'"
      [cpPositionRelativeToArrow]="true"
      [colorPicker]="color"
      (colorPickerChange)="cmykColor=onChangeColor($event);color=$event;">
    </div>

    <div *ngIf="Image">Edit Image</div>
    <div *ngIf="Button">Edit Button</div>
  </div>



</div>