<div fxFlex fxLayout="row" cdkDropListGroup>

  <div fxFlex="20%" class="tools">
    <h2>Tools</h2>
    <div cdkDropList #toolsetList="cdkDropList" [cdkDropListData]="toolset" class="tools-list"
      (cdkDropListDropped)="drop($event)">
      <div class="item-box" *ngFor="let item of toolset" cdkDrag>{{item.type}}</div>
    </div>
  </div>

  <div fxFlex="60%" class="template" fxLayout="column">
    <h2>Template</h2>
    <div class="template-container" *ngFor="let section of mailtemplateArray; let i1 = index" fxLayout="row" 
      cdkDropList #listSection="cdkDropList" (cdkDropListDropped)="drop($event, i1, i2)" [cdkDropListData]="mailtemplateArray">
      <label class="sectionlabel">Section <mat-icon (click)="onSelectSectionPart(i1)" class="iconsize-10" matSuffix>mode_edit</mat-icon>
        <mat-icon (click)="onDeleteSectionPart(i1)" class="iconsize-10" matSuffix>delete</mat-icon></label>
      <div [ngStyle]="sectionStyleArray[i1].style" class="section-box" *ngFor="let column of section; let i2 = index" fxFlex fxFlexFill fxLayout="column" cdkDrag>
        <label class="columnlabel">Column <mat-icon (click)="onSelectColumnPart(i1, i2)" class="iconsize-10" matSuffix>mode_edit</mat-icon>
          <mat-icon (click)="onDeleteColumnPart(i1, i2)" class="iconsize-10" matSuffix>delete</mat-icon>
        </label>
        <div  [ngStyle]= "columnStyleArray[i1][i2].style" class="column-box" fxFlex fxLayout="row" cdkDropList #mailtemplateList="cdkDropList"
          [cdkDropListData]="mailtemplateArray[i1][i2]" (cdkDropListDropped)="drop($event, i1, i2)">
          <div class="item-box" *ngFor="let item of column; let i3 = index;" 
          (click)="onSelectTemplatePart(item, i3)" cdkDrag>
            <div *ngIf="item.type ==='Text'" 
            [ngStyle]="item.style">{{item.content}}</div>
            <div *ngIf="item.type === 'Image'"
            [ngStyle]="item.style"><app-fileupload></app-fileupload></div>
          </div>
        </div>
      </div>
    
      <mat-icon (click)="addToSectionArray(i1)">add</mat-icon>
    </div>
    <mat-icon (click)="addToMailTemplateArray()">add</mat-icon>
  </div>

  <mat-card fxFlex="20%" class="edit">
    <div *ngIf="Column">Edit Column
      <table>
        <tr><td><mat-form-field>
          <input [(ngModel)]=maileditorColumn.style.width type="text" matInput placeholder="width">
          <mat-icon matSuffix>mode_edit</mat-icon>
          <mat-hint>%/px</mat-hint>
        </mat-form-field></td>
     
      <tr><td><mat-form-field>
        <input [(ngModel)]=maileditorColumn.style.height type="text" matInput placeholder="height">
        <mat-icon matSuffix>mode_edit</mat-icon>
        <mat-hint>%/px</mat-hint>
      </mat-form-field></td>
    
    <tr>
      <td>
          <input [style.background]="rgbaText"
          matInput Placeholder="background color"
         [value]="maileditorColumn.style['background-color']"
         [style.background]="maileditorColumn.style['background-color']"
         [cpAlphaChannel]="'always'"
         [cpOutputFormat]="'hex'"
         [cpPosition]="'left'"
        [(colorPicker)]="maileditorColumn.style['background-color']"/>
        <mat-hint>Background Color</mat-hint>
      </td>
    </tr>
      </table>
    </div>

    <div *ngIf="Section">Edit Section
    <table>
      <tr><td><mat-form-field>
        <input [(ngModel)]=maileditorSection.style.width type="text" matInput placeholder="width">
        <mat-icon matSuffix>mode_edit</mat-icon>
        <mat-hint>%/px</mat-hint>
      </mat-form-field></td>
</tr>
    <tr><td><mat-form-field>
      <input [(ngModel)]=maileditorSection.style.height type="text" matInput placeholder="height">
      <mat-icon matSuffix>mode_edit</mat-icon>
      <mat-hint>%/px</mat-hint>
    </mat-form-field></td>
</tr>
  <tr>
      <td>
          <input [style.background]="rgbaText"
          [value]="maileditorSection.style['background-color']"
         [style.background]="maileditorSection.style['background-color']"
         [cpAlphaChannel]="'always'"
         [cpOutputFormat]="'hex'"
         [cpPosition]="'left'"
        [(colorPicker)]="maileditorSection.style['background-color']"/>
        <mat-hint>Background Color</mat-hint>
      </td>
    </tr>
    </table>
  </div>
    
    <div *ngIf="Text">
      <table>
        <tr>
          <td>
              <h1>Edit Text</h1>
          </td>
        </tr>
        <tr>
          <td>
              <input matInput [(ngModel)]=maileditorText.content placeholder="text">
          </td>
        </tr>
        <tr>
          <td>
              <input [style.background]="rgbaText"
              [value]="maileditorText.style.color"
             [style.background]="maileditorText.style.color"
             [cpAlphaChannel]="'always'"
             [cpOutputFormat]="'hex'"
             [cpPosition]="'left'"
            [(colorPicker)]="maileditorText.style.color"/>
          </td>
        </tr>
        <tr>
          <td>
              <input [style.background]="rgbaText"
              [value]="maileditorText.style['background-color']"
             [style.background]="maileditorText.style['background-color']"
             [cpAlphaChannel]="'always'"
             [cpOutputFormat]="'hex'"
             [cpPosition]="'left'"
            [(colorPicker)]="maileditorText.style['background-color']"/>
          </td>
        </tr>
        <tr>
          <td>
              <h4>Select Format</h4>
          </td>
        </tr>
        <tr>
          <td>
              <mat-form-field>
                  <mat-select [(value)]="maileditorText.style['font-family']">
                    <mat-option>None</mat-option>
                    <mat-option value="Arial, Helvetica, sans-serif">Arial</mat-option>
                    <mat-option value="'Arial Black', Gadget, sans-serif">Arial Black</mat-option>
                    <mat-option value="Tahoma, Geneva, sans-serif">Tahoma</mat-option>
                    <mat-option value="'Times New Roman', Times, serif">Times New Roman</mat-option>
                  </mat-select>
                </mat-form-field>
          </td>
        </tr>
      </table>
    </div>

    <div *ngIf="Image">Edit Image
      <table>
        <tr><td><mat-form-field>
          <input [(ngModel)]=maileditorImage.style.width type="text" matInput placeholder="width">
          <mat-icon matSuffix>mode_edit</mat-icon>
        </mat-form-field></td>
      <td>px/%</td></tr>
      <tr><td><mat-form-field>
        <input [(ngModel)]=maileditorImage.style.height type="text" matInput placeholder="height">
        <mat-icon matSuffix>mode_edit</mat-icon>
      </mat-form-field></td>
    <td>px/%</td></tr>
      </table>
    </div>
    <div *ngIf="Button">Edit Button</div>
  </mat-card>



</div>