<div class="savetobutton">
    <button mat-fab color="primary" matTooltip="Convert to element" (click)="converttovideo()">
        <mat-icon>save</mat-icon>
    </button>
</div>

<div class="videocontrols">
    <div fxLayout="row" fxLayoutGap="4px">
        <button mat-mini-fab color="primary" (click)="playFunc()" fxFlex>
            <mat-icon>play_circle_outline</mat-icon>
        </button>
        <button mat-mini-fab color="primary" (click)="stopFunc()" fxFlex>
            <mat-icon>stop</mat-icon>
        </button>
        <button mat-mini-fab color="primary" (click)="pauseFunc()" fxFlex>
            <mat-icon>pause_circle_outline</mat-icon>
        </button>
        <button mat-mini-fab color="primary" (click)="reverseFunc()" fxFlex>
            <mat-icon>fast_rewind</mat-icon>
        </button>
        <button mat-mini-fab color="primary" (click)="fastforwardFunc()" fxFlex>
            <mat-icon>fast_forward</mat-icon>
        </button>
    </div>
    <div fxLayout="row">
        <!-- <label>Timeline lenght &nbsp; </label>  -->
        <mat-slider matTooltip="Timeline length" (input)="onSliderChange($event)" thumbLabel [displayWith]="formatLabel"
            tickInterval="1" min="1" max="600"></mat-slider>
        <label>{{counter}} &nbsp; sec</label>
    </div>
</div>

<div style="width: 100%; margin-bottom: 10px;" (swipeleft)="swipeleft($event)" (swiperight)="swiperight($event)">

    <mat-accordion style="width: 100%">
        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <mat-form-field>
                        <input [(ngModel)]="elementname" type="text" matInput placeholder="element Name">
                    </mat-form-field>
                    <button mat-icon-button [matMenuTriggerFor]="menumarketing" class="menu">
                        <mat-icon>more_vert</mat-icon>
                    </button>
                    <mat-menu #menumarketing="matMenu">
                        <button mat-button (click)="resetVideo()">
                            <mat-icon>delete</mat-icon>
                            <span>Reset</span>
                        </button>
                        <button mat-menu-item (click)="newItem()">
                            <mat-icon>note_add</mat-icon>
                            <span>New</span>
                        </button>
                        <mat-form-field>
                            <mat-label>Edit existing element</mat-label>
                            <mat-select [(value)]="editablevideo">
                                <mat-option *ngFor="let editvideo of editablevideos" [value]="editvideo">
                                    {{editelement.name}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <button mat-button (click)="loadEditableVideo()">Start edit</button>
                    </mat-menu>

                </mat-panel-title>
            </mat-expansion-panel-header>

            <div fxLayout="row wrap" fxLayoutGap="20px">


                <mat-form-field fxFlex>
                    <input (change)="onchangevideo()" [(ngModel)]="canvas.width" type="text" matInput
                        placeholder="width">
                    <label matSuffix>px</label>
                </mat-form-field>

                <mat-form-field fxFlex>
                    <input (change)="onchangevideo()" [(ngModel)]="canvas.height" type="text" matInput
                        placeholder="height">
                    <label matSuffix>px</label>
                </mat-form-field>

                <app-videoupload *ngIf="!canvas.videourl" [account]="Account" [option]="option"
                    (imgurl)="setVideo($event)">
                </app-videoupload>

                <!-- <video *ngIf="canvas.videourl" fxFlex style="width: 200px; height: 200px;"
                    src={{canvas.videourl}}></video> -->

                <mat-form-field fxFlex *ngIf="canvas.videourl">
                    <input (change)="onchangevideo()" [(ngModel)]="canvas.videourl" type="text" matInput
                        placeholder="height">
                </mat-form-field>

                <input fxFlex style="width: 150px; height: 30px;" [style.background]="canvas['background-color']"
                    [cpToggle]="false" [(colorPicker)]="canvas['background-color']"
                    (colorPickerChange)="onchangevideo()" [cpCancelButton]="true" [cpPresetLabel]="'Company colors'"
                    [cpPresetColors]="[option.companyprimairycolor, option.companysecondarycolor, company.companyprimairycolor, company.companysecondarycolor]">

                <mat-slide-toggle fxFlex *ngIf="canvas.videourl" [(ngModel)]="canvas.loop">Loop</mat-slide-toggle>
            </div>

        </mat-expansion-panel>
    </mat-accordion>

    <!-- <button mat-button (click)="getEditFile()">get elements</button> -->



    <div *ngIf="selectedelement" fxLayout="column">
        <div *ngFor="let animation of selectedelement.animation; let i = index;">
            <mat-accordion>
                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <label>{{animation.anim_type}}</label>
                            <mat-icon (click)="deleteEffect(i)" class="iconsize-10">delete</mat-icon>
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div fxLayout="row">
                        <!-- <label>Effects &nbsp;</label> -->
                        <mat-form-field>
                            <mat-select [(value)]="animation.anim_type" (selectionChange)="addEffect(selectedelement)">
                                <mat-option value="rotation">Rotate</mat-option>
                                <mat-option value="translate">Translate</mat-option>
                                <mat-option value="scale">Scale</mat-option>
                                <mat-option value="skew">Skew</mat-option>
                                <mat-option value="bounce">Bounce</mat-option>
                                <mat-option value="appear">Appear</mat-option>
                                <mat-option value="disappear">Disappear</mat-option>
                                <mat-option value="move">Move</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field style="max-width: 46px;">
                            <input [(ngModel)]="animation.duration" type="number" step="0.1" min="0" matInput>
                            <mat-hint>Duration</mat-hint>
                        </mat-form-field>
                        <mat-form-field style="max-width: 46px;">
                            <input [(ngModel)]="animation.start_time" type="number" step="0.1" min="0" matInput>
                            <mat-hint>Start</mat-hint>
                        </mat-form-field>
                        <div *ngIf="animation.anim_type === 'rotation'">
                            <mat-form-field style="max-width: 46px;">
                                <input [(ngModel)]="animation.rotationcycle" type="number" step="0.1" min="0" matInput>
                                <mat-hint>Rotation</mat-hint>
                            </mat-form-field>
                        </div>
                        <div *ngIf="animation.anim_type === 'scale'">
                            <mat-form-field style="max-width: 46px;">
                                <input [(ngModel)]="animation.scalesize" type="number" step="0.1" min="0" matInput>
                                <mat-hint>Scale</mat-hint>
                            </mat-form-field>
                        </div>
                        <div *ngIf="animation.anim_type === 'bounce'">
                            <mat-form-field style="max-width: 46px;">
                                <input [(ngModel)]="animation.travellocY" type="number" matInput>
                                <mat-hint>Y-axe</mat-hint>
                            </mat-form-field>
                            <mat-form-field style="max-width: 46px;">
                                <input [(ngModel)]="animation.travellocX" type="number" matInput>
                                <mat-hint>X-axe</mat-hint>
                            </mat-form-field>
                            <button mat-button
                                (click)="animation.travellocY = selectedelement.posy; animation.travellocX = selectedelement.posx">Reset</button>
                        </div>
                        <div *ngIf="animation.anim_type === 'skew'">
                            <mat-form-field style="max-width: 46px;">
                                <input [(ngModel)]="animation.skewY" type="number" matInput>
                                <mat-hint>Y-axe</mat-hint>
                            </mat-form-field>
                            <mat-form-field style="max-width: 46px;">
                                <input [(ngModel)]="animation.skewX" type="number" matInput>
                                <mat-hint>X-axe</mat-hint>
                            </mat-form-field>
                            <button mat-button
                                (click)="animation.travellocY = selectedelement.posy; animation.travellocX = selectedelement.posx">Reset</button>
                        </div>
                        <div *ngIf="animation.anim_type === 'move'">
                            <mat-form-field style="max-width: 46px;">
                                <input [(ngModel)]="animation.travellocY" type="number" matInput>
                                <mat-hint>Y-axe</mat-hint>
                            </mat-form-field>
                            <mat-form-field style="max-width: 46px;">
                                <input [(ngModel)]="animation.travellocX" type="number" matInput>
                                <mat-hint>X-axe</mat-hint>
                            </mat-form-field>
                            <button mat-button
                                (click)="animation.travellocY = selectedelement.posy; animation.travellocX = selectedelement.posx">Reset</button>
                        </div>
                    </div>

                </mat-expansion-panel>
            </mat-accordion>

        </div>
        <button mat-button (click)="addNewEffect(animation)">Add new effect</button>
    </div>
    <!-- <mat-card fxLayout="column">


    </mat-card> -->
</div>


<div class="tabcontainer" fxLayout="row" cdkDropListGroup (swipeleft)="swipeleft($event)"
    (swiperight)="swiperight($event)">


    <!-- to do: add magic wand toosl -->

    <div class="card-left-menu" ngClass.gt-xs="listview-normal" ngClass.lt-sm="listview-noshow"
        [class.listview-xs-show]="listviewxsshow" fxLayout="column">
        <label>Edit</label>
        <div fxLayout="column">
            <div fxLayout="column" fxLayout.xs="column" cdkDropList (cdkDropListDropped)="drop($event)">
                <div *ngFor="let element of animationarray; let i = index" cdkDrag (click)="onSelectElement(element)">


                    <div *ngIf="element.type === 'image'">
                        <mat-accordion>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        <img *ngIf="element.src" src={{element.src}} class="elementsedit"
                                            style="height: 30px; width: auto;">
                                        <mat-icon (click)="deleteitem(i)" class="iconsize-12">delete</mat-icon>

                                    </mat-panel-title>
                                </mat-expansion-panel-header>
                                <mat-form-field style="max-width: 46px;">
                                    <input (change)="detectchange()" [(ngModel)]="element.posy" type="number" matInput>
                                    <mat-hint>Y |</mat-hint>
                                </mat-form-field>
                                <mat-form-field style="max-width: 46px;">
                                    <input (change)="detectchange()" [(ngModel)]="element.posx" type="number" matInput>
                                    <mat-hint>X -</mat-hint>
                                </mat-form-field>
                                <div *ngIf="element.src">
                                    <img style="max-width: 100%;" src={{element.src}} class="elementsedit">
                                    <mat-icon (click)="element.src = ''" class="icon-label" class="iconsize-12">delete
                                    </mat-icon>
                                </div>
                                <app-fileupload *ngIf="!element.src" [account]="Account" [option]="option"
                                    (imgurl)="setImage($event, i)">
                                </app-fileupload>
                            </mat-expansion-panel>
                        </mat-accordion>
                    </div>
                    <div *ngIf="element.type === 'text'">
                        <mat-accordion>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        <label>{{element.content}}</label>
                                        <mat-icon (click)="deleteitem(i)" class="iconsize-12">delete</mat-icon>
                                    </mat-panel-title>
                                </mat-expansion-panel-header>
                                <mat-form-field style="max-width: 46px;">
                                    <input (change)="detectchange()" [(ngModel)]="element.posy" type="number" matInput>
                                    <mat-hint>Y |</mat-hint>
                                </mat-form-field>
                                <mat-form-field style="max-width: 46px;">
                                    <input (change)="detectchange()" [(ngModel)]="element.posx" type="number" matInput>
                                    <mat-hint>X -</mat-hint>
                                </mat-form-field>
                                <div fxLayout="column">
                                    <div fxLayout="row" fxLayout.xs="column">
                                        <mat-form-field style="width: 95%;" appearance="outline">
                                            <input matTooltip="insert text" #inputpreview [(ngModel)]="element.content"
                                                type="text" matInput placeholder="element text">
                                            <mat-icon matTooltip="select Emoji" (click)="onshowemoji(i)" matSuffix>
                                                insert_emoticon</mat-icon>
                                            <mat-hint align="end">{{inputpreview.value?.length || 0}}/90</mat-hint>
                                        </mat-form-field>
                                    </div>
                                    <div fxLayout="row" fxLayout.xs="column" *ngIf="showemoji">
                                        <div fxFlex>
                                            <div style="width: 100%;
                                          height: 100%;
                                          position: absolute;
                                          top: 8;
                                          left: 20;
                                          z-index: 20;">
                                                <emoji-mart (emojiClick)="setemoji($event, i)" set="emojione">
                                                </emoji-mart>
                                            </div>
                                        </div>
                                    </div>
                                    <div fxLayout="row" fxLayout.xs="column">
                                        <mat-form-field>
                                            <input [(ngModel)]="element.style['font-size']" type="text" matInput
                                                placeholder="font size" (change)="detectchange()">
                                        </mat-form-field>
                                    </div>
                                    <div fxLayout="row" fxLayout.xs="column">
                                        <input style="width: 230px;" [style.background]="element.style['color']"
                                            [cpOutputFormat]="'hex'" [(colorPicker)]="element.style['color']"
                                            (colorPickerChange)="detectchange()" [cpPresetLabel]="'Company colors'"
                                            [cpPresetColors]="[option.companyprimairycolor, option.companysecondarycolor, company.companyprimairycolor, company.companysecondarycolor]">
                                    </div>
                                    <br>
                                    <div fxLayout="row" fxLayout.xs="column">
                                        <mat-form-field>
                                            <mat-label>Select font</mat-label>
                                            <mat-select [(value)]="element.style['font-family']"
                                                (selectionChange)="detectchange()">
                                                <mat-option value="Arial, Helvetica, sans-serif">Arial</mat-option>
                                                <mat-option value="'Arial Black', Gadget, sans-serif">Arial Black
                                                </mat-option>
                                                <mat-option value="Tahoma, Geneva, sans-serif">Tahoma</mat-option>
                                                <mat-option value="'Times New Roman', Times, serif">Times New Roman
                                                </mat-option>
                                                <mat-option value="Roboto">Roboto</mat-option>
                                                <mat-option value="Open Sans">Open Sans</mat-option>
                                                <mat-option value="Baloo Bhai">Baloo Bhai</mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>

                                    <div fxLayout="row">
                                        <mat-button-toggle fxFlex (click)="setbold(element)" value="bold">Bold
                                        </mat-button-toggle>
                                        <mat-button-toggle fxFlex (click)="setitalic(element)" value="italic">Italic
                                        </mat-button-toggle>
                                    </div>

                                </div>
                            </mat-expansion-panel>
                        </mat-accordion>
                    </div>
                    <div *ngIf="element.type === 'shape'">
                        <mat-accordion>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        <div style="height: 30px; width: 30px"
                                            [style.background-color]="element.style['background-color']"></div>
                                        <mat-icon (click)="deleteitem(i)" class="iconsize-12">delete</mat-icon>
                                    </mat-panel-title>
                                </mat-expansion-panel-header>
                                <mat-form-field style="max-width: 46px;">
                                    <input (change)="detectchange()" [(ngModel)]="element.posy" type="number" matInput>
                                    <mat-hint>Y |</mat-hint>
                                </mat-form-field>
                                <mat-form-field style="max-width: 46px;">
                                    <input (change)="detectchange()" [(ngModel)]="element.posx" type="number" matInput>
                                    <mat-hint>X -</mat-hint>
                                </mat-form-field>
                                <div fxLayout="column">
                                    <input style="width: 230px;" [style.background]="element.style['background-color']"
                                        [(colorPicker)]="element.style['background-color']"
                                        (colorPickerChange)="detectchange()" [cpPresetLabel]="'Company colors'"
                                        [cpPresetColors]="[option.companyprimairycolor, option.companysecondarycolor, company.companyprimairycolor, company.companysecondarycolor]">
                                </div>
                            </mat-expansion-panel>
                        </mat-accordion>

                    </div>
                    <div *ngIf="element.type === 'vector'">
                        <mat-accordion>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        <!-- <div *ngIf="element.vectors.length > 0" [inlineSVG]="element.vectors[0].src"
                                            [onSVGLoaded]="previewSVG" class="elementsedit"
                                            style="height: 30px; width: auto;"></div> -->

                                        <mat-icon (click)="deleteitem(i)" class="iconsize-12">delete</mat-icon>

                                    </mat-panel-title>
                                </mat-expansion-panel-header>
                                <mat-form-field style="max-width: 46px;">
                                    <input (change)="detectchange()" [(ngModel)]="element.posy" type="number" matInput>
                                    <mat-hint>Y |</mat-hint>
                                </mat-form-field>
                                <mat-form-field style="max-width: 46px;">
                                    <input (change)="detectchange()" [(ngModel)]="element.posx" type="number" matInput>
                                    <mat-hint>X -</mat-hint>
                                </mat-form-field>
                                <mat-form-field style="max-width: 46px;">
                                    <input (change)="detectchange()" [(ngModel)]="element.height" matInput>
                                    <mat-hint>Y |</mat-hint>
                                </mat-form-field>
                                <mat-form-field style="max-width: 46px;">
                                    <input (change)="detectchange()" [(ngModel)]="element.width" matInput>
                                    <mat-hint>X -</mat-hint>
                                </mat-form-field>
                                Vector images
                                <div *ngFor="let vector of element.vectors; let idx = index;">
                                    <mat-expansion-panel>
                                        <mat-form-field style="max-width: 46px;">
                                            <input [(ngModel)]="vector.duration" type="number" step="0.1" min="0"
                                                matInput>
                                            <mat-hint>Duration</mat-hint>
                                        </mat-form-field>
                                        <mat-form-field style="max-width: 46px;">
                                            <input [(ngModel)]="vector.start_time" type="number" step="0.1" min="0"
                                                matInput>
                                            <mat-hint>Start</mat-hint>
                                        </mat-form-field>
                                        <mat-expansion-panel-header>
                                            <div *ngIf="vector.src" [inlineSVG]="vector.src"
                                                [onSVGLoaded]="previewSVG" class="elementsedit"
                                                style="height: 30px; width: auto;"></div>
                                        </mat-expansion-panel-header>
                                        <div *ngIf="vector.src">
                                            <div *ngIf="vector.src" [inlineSVG]="vector.src"
                                                [onSVGLoaded]="previewSVGBig"  id="{{vector.idx}}" >
                                            </div>
                                            <mat-icon (click)="vector.src = ''" class="icon-label" class="iconsize-12">
                                                delete
                                            </mat-icon>
                                        </div>
                                        <app-vectorupload *ngIf="!vector.src" [account]="Account" [option]="option"
                                            (imgurl)="setVector($event, i, idx)">
                                        </app-vectorupload>
                                        <mat-icon (click)="deleteVectorSrc(idx, element)" class="icon-label" class="iconsize-14">
                                            delete
                                        </mat-icon>
                                    </mat-expansion-panel>
                                </div>
                                <button mat-mini-fab class="addbutton" matTooltip="Add vector"
                                    (click)="addNewVectorSrc(i, element)" color="primary">
                                    <mat-icon>add</mat-icon>
                                </button>
                            </mat-expansion-panel>
                        </mat-accordion>
                    </div>
                    <!-- <div *ngIf="element.type === 'chart'">
                        <mat-accordion>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        <mat-icon>show_chart</mat-icon>
                                        <mat-icon (click)="deleteitem(i)" class="iconsize-12">delete</mat-icon>
                                    </mat-panel-title>
                                </mat-expansion-panel-header>
                                <mat-accordion>
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                                Data
                                            </mat-panel-title>
                                        </mat-expansion-panel-header>
                                        <div *ngFor="let label of element.label; let i1 = index;">
                                            <mat-form-field fxflex>
                                                <input (change)="detectchangeLabel(i, i1, label)" [(ngModel)]="label"
                                                    type="text" matInput placeholder="label">
                                            </mat-form-field>
                                        </div>
                                        <mat-icon (click)="deletelabel(i, i1)" class="iconsize-12">delete</mat-icon>
                                        <mat-icon (click)="addLabel(i, i1)">add</mat-icon>
                                        <div *ngFor="let row of element.data; let i1 = index;" fxLayout="column">

                                            <mat-form-field fxflex>
                                                <input (change)="detectchangerowlabel(i, i1, row.label)"
                                                    [(ngModel)]="row.label" type="text" matInput>
                                            </mat-form-field>
                                            <div fxFlex fxLayout="row wrap">
                                                <div *ngFor="let cell of row.data; let i2 = index;">
                                                    <mat-form-field fxflex style="width: 20px;">
                                                        <input (change)="detectchangerowcell(i, i1, i2, cell)"
                                                            [(ngModel)]="cell" type="text" matInput>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                            <mat-icon (click)="deletecell(i, i1)" class="iconsize-12">delete</mat-icon>
                                            <mat-icon (click)="addcell(i, i1, i2)">add</mat-icon>
                                        </div>
                                    </mat-expansion-panel>
                                </mat-accordion>

                                <mat-accordion>
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                                Colors
                                            </mat-panel-title>
                                        </mat-expansion-panel-header>
                                        <div *ngFor="let colors of element.colors" fxLayout="column">
                                            Color Specification
                                            <input style="width: 150px;" [style.background]="colors.backgroundColor"
                                                [(colorPicker)]="colors.backgroundColor"
                                                (colorPickerChange)="detectchange()" [cpCancelButton]="true"
                                                [cpPresetLabel]="'Company colors'"
                                                [cpPresetColors]="[option.companyprimairycolor, option.companysecondarycolor, company.companyprimairycolor, company.companysecondarycolor]">
                                            <mat-icon class="iconsize-12" (click)="colors.backgroundColor = ''">delete
                                            </mat-icon>
                                            <input style="width: 150px;" [style.background]="colors.borderColor"
                                                [(colorPicker)]="colors.borderColor"
                                                (colorPickerChange)="detectchange()" [cpPresetLabel]="'Company colors'"
                                                [cpPresetColors]="[company.companyprimairycolor, company.companysecondarycolor]">
                                            <mat-icon class="iconsize-12" (click)="colors.borderColor = ''">delete
                                            </mat-icon>
                                            <input style="width: 150px;"
                                                [style.background]="colors.pointBackgroundColor"
                                                [(colorPicker)]="colors.pointBackgroundColor"
                                                (colorPickerChange)="detectchange()" [cpPresetLabel]="'Company colors'"
                                                [cpPresetColors]="[company.companyprimairycolor, company.secondarycolor]">
                                            <mat-icon class="iconsize-12" (click)="colors.pointBackgroundColor = ''">
                                                delete
                                            </mat-icon>
                                            <input style="width: 150px;" [style.background]="colors.pointBorderColor"
                                                [(colorPicker)]="colors.pointBorderColor"
                                                (colorPickerChange)="detectchange()" [cpPresetLabel]="'Company colors'"
                                                [cpPresetColors]="[company.companyprimairycolor, company.secondarycolor]">
                                            <mat-icon class="iconsize-12" (click)="colors.pointBorderColor = ''">delete
                                            </mat-icon>
                                        </div>

                                    </mat-expansion-panel>
                                </mat-accordion>

                                <mat-accordion>
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                                Chart type
                                            </mat-panel-title>
                                        </mat-expansion-panel-header>
                                        <mat-form-field>
                                            <mat-select [(value)]="element.charttype"
                                                (selectionChange)="detectchangetype(i, element.charttype)">
                                                <mat-option value="line">line</mat-option>
                                                <mat-option value="bar">bar</mat-option>
                                                <mat-option value="radar">radar</mat-option>
                                                <mat-option value="pie">pie</mat-option>
                                                <mat-option value="polarArea">Polararea</mat-option>
                                                <mat-option value="doughnut">Doughnut</mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <div fxLayout="column">
                                            X-Axe
                                            Gridline color
                                            <input
                                                [style.background]="element.lineChartOptions.scales.xAxes[0].gridLines.color"
                                                [(colorPicker)]="element.lineChartOptions.scales.xAxes[0].gridLines.color"
                                                (colorPickerChange)="detectchange()" [cpPresetLabel]="'Company colors'"
                                                [cpPresetColors]="[company.companyprimairycolor, company.secondarycolor]">
                                            <mat-icon class="iconsize-12"
                                                (click)="element.lineChartOptions.scales.xAxes[0].gridLines.color = ''">
                                                delete
                                            </mat-icon>
                                            X-Axe
                                            Font color
                                            <input
                                                [style.background]="element.lineChartOptions.scales.xAxes[0].ticks.fontColor"
                                                [(colorPicker)]="element.lineChartOptions.scales.xAxes[0].ticks.fontColor"
                                                (colorPickerChange)="detectchange()" [cpPresetLabel]="'Company colors'"
                                                [cpPresetColors]="[company.companyprimairycolor, company.secondarycolor]">
                                            <mat-icon class="iconsize-12"
                                                (click)="element.lineChartOptions.scales.xAxes[0].ticks.fontColor = ''">
                                                delete
                                            </mat-icon>
                                            Y-axe
                                            Gridline color
                                            <input
                                                [style.background]="element.lineChartOptions.scales.yAxes[0].gridLines.color"
                                                [(colorPicker)]="element.lineChartOptions.scales.yAxes[0].gridLines.color"
                                                (colorPickerChange)="detectchange()" [cpPresetLabel]="'Company colors'"
                                                [cpPresetColors]="[company.companyprimairycolor, company.secondarycolor]">
                                            <mat-icon class="iconsize-12"
                                                (click)="element.lineChartOptions.scales.yAxes[0].gridLines.color = ''">
                                                delete
                                            </mat-icon>
                                            Y-axe
                                            Font color
                                            <input
                                                [style.background]="element.lineChartOptions.scales.yAxes[0].ticks.fontColor"
                                                [(colorPicker)]="element.lineChartOptions.scales.yAxes[0].ticks.fontColor"
                                                (colorPickerChange)="detectchange()" [cpPresetLabel]="'Company colors'"
                                                [cpPresetColors]="[company.companyprimairycolor, company.secondarycolor]">
                                            <mat-icon class="iconsize-12"
                                                (click)="element.lineChartOptions.scales.xAxes[0].ticks.fontColor = ''">
                                                delete
                                            </mat-icon>
                                        </div>
                                    </mat-expansion-panel>
                                </mat-accordion>

                                <mat-icon (click)="addgraph(i)">add</mat-icon>
                                <mat-icon (click)="deletegraph(i)">delete</mat-icon>
                            </mat-expansion-panel>
                        </mat-accordion>
                    </div> -->
                </div>
            </div>
            <div fxLayout="row wrap" fxLayout.xs="column">
                <button mat-mini-fab class="addbutton" matTooltip="Add element" (click)="addNewImage()" color="primary">
                    <mat-icon>image</mat-icon>
                </button>
                <button mat-mini-fab class="addbutton" matTooltip="Add text" (click)="addNewText()" color="primary">
                    <mat-icon>text_format</mat-icon>
                </button>
                <button mat-mini-fab class="addbutton" matTooltip="Add shape" (click)="addNewShape()" color="primary">
                    <mat-icon>format_shapes</mat-icon>
                </button>
                <button mat-mini-fab class="addbutton" matTooltip="Add animated image" (click)="addNewVector()"
                    color="primary">
                    <mat-icon>wallpaper</mat-icon>
                </button>
                <!-- <button mat-mini-fab class="addbutton" matTooltip="Add Chart" (click)="addNewChart()" color="primary">
                    <mat-icon>show_chart</mat-icon>
                </button> -->
            </div>
        </div>
    </div>

    <div ngClass.gt-xs="container-normal" ngClass.lt-sm="container-noshow" [class.container-xs-show]="listviewxsshow"
        fxLayout="row" fxLayoutAlign="start">
        <div *ngIf="changevideo" [ngStyle]="canvas" style="border: 1px solid grey; overflow:hidden;">
            <video *ngIf="canvas.videourl" class="video-background" no-controls [src]="canvas.videourl" #videoPlayer>
            </video>
            <div *ngIf="animationarray.length > 0 && changenow" #myBounds id="myBounds"
                style="overflow: hidden; background-color: transparent;">
                <div *ngFor="let element of animationarray; let i = index" (click)="onSelectElement(element)"
                    style="background-color: transparent; overflow: hidden;">

                    <div *ngIf="element.type === 'image'" id="{{element.id}}" style="overflow: hidden;" ngDraggable
                        [ngStyle]="element.style" [style.width]="element.style.width"
                        [style.height]="element.style.height" (movingOffset)="onMoving($event, i)"
                        [preventDefaultEvent]="true" [position]="element.setpos" (rzResizing)="onResizing($event, i)"
                        ngResizable [rzAspectRatio]="true">
                        <img *ngIf="element.src" style="width: 100%; height: 100%;" src={{element.src}}>
                    </div>
                    <label ngResizable *ngIf="element.type === 'text'" id="{{element.id}}" [attr.id]="element.id"
                        ngDraggable style="width: 100px; height: 100px; overflow: hidden;"
                        (movingOffset)="onMoving($event, i)" [preventDefaultEvent]="true" [position]="element.setpos"
                        (rzResizing)="onResizing($event, i)" [ngStyle]="element.style"
                        [rzAspectRatio]="false">{{element.content}}</label>
                    <div *ngIf="element.type === 'shape'" id="{{element.id}}" style="overflow: hidden;" ngDraggable
                        [ngStyle]="element.style" [style.width]="element.style.width"
                        [style.height]="element.style.height" (movingOffset)="onMoving($event, i)"
                        [preventDefaultEvent]="true" [position]="element.setpos" (rzResizing)="onResizing($event, i)"
                        ngResizable [rzAspectRatio]="false">
                    </div>
                    <div *ngIf="element.type === 'vector'" id="{{element.id}}"
                    style="overflow: hidden;" [style.width]="element.style.width" [style.height]="element.style.height" 
                    ngDraggable [ngStyle]="element.style"
                    (movingOffset)="onMoving($event, i)" [preventDefaultEvent]="true" [position]="element.setpos"
                    (rzResizing)="onResizing($event, i)" ngResizable [rzAspectRatio]="true">
                    <div [innerHTML]="element.svgcombi"></div>
                    
                    <!-- <div *ngFor="let vectorelement of element.vectors; let iv = index;"                  
                    [style.width]="element.style.width" [style.height]="element.style.height">
                        <div [style.width]="element.style.width" [style.height]="element.style.height"
                         id="{{vectorelement.idx}}"   [style.width]="1000px" [style.height]="1000px"
                        [inlineSVG]="vectorelement.src" [onSVGLoaded]="handleSVG">
                        </div> -->
                    <!-- </div> -->
                </div>
                </div>
            </div>
        </div>
    </div>
</div>